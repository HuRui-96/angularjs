<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body ng-app='hrapp' ng-controller="controllerA">
		
	</body>
	<script src="../js/angular.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var app = angular.module('hrapp',[]);
		app.controller('controllerA',function($scope,http){
			http.ajax('GET','test.php').success(function(data){
				console.log(data);
			})
		})
		app.service('http',function(){
			var xml = new XMLHttpRequest();
			return {
				ajax : function(method,url){
					
					xml.open(method,url,true);
					xml.send();
					
					return this;
				},
				success : function(callback){
					xml.onreadystatechange = function(){
						if(xml.readyState == 4 && xml.status == 200) {
							callback(xml.responseText);
						}
					}
					console.log('完成');
					return this;
				}
			}
		})
	</script>
</html>

!function(){var e=angular.module("controllers",[]);e.controller("indexCtrl",["$scope",function(e){e.item=0,e.itemOn=function(t){e.item=t}}]),e.controller("recommendCtrl",["$scope","$http","$timeout",function(e,t,r){e.title="推荐",e.page=0,e.news=[],e.count=0,e.pageStart=0,e.pageSize=4,e.loadMore=function(a,i){e.isLoading=!0,r(function(){t({url:"data/news2.json",method:"GET",params:{channel_id:6,page:e.page++}}).then(function(t){if(e.sum=t.data.news_list.length,e.pageStart>=e.sum)return console.log("没有更多数据了。"),!1;e.sum-e.pageStart<e.pageSize&&(e.pageSize=e.sum-e.pageStart);for(var r=e.pageStart;r<e.pageStart+e.pageSize;r++)e.news=e.news.concat(t.data.news_list[r]);e.count+=1,e.pageStart=e.count*e.pageSize,e.isLoading=!1})},1500)},e.loadMore(e.pageStart,e.pageSize),e.isShowSearchBar=!1,e.showSearchBar=function(){e.isShowSearchBar=!0},e.searchName="",e.searchClear=function(){e.searchName="",e.isShowSearchBar=!1}}]),e.controller("entertainCtrl",["$scope","$http",function(e,t){e.title="新闻",e.isShowSearchBar=!1,e.showSearchBar=function(){e.isShowSearchBar=!0},e.searchName="",e.searchClear=function(){e.searchName="",e.isShowSearchBar=!1},e.isLoading=!0,t({url:"http://route.showapi.com/1310-1",params:{showapi_timestamp:function(){var e=new Date,t=e.getMonth()+1;return e.getFullYear()+""+(t>=10?t:"0"+t)+(e.getDate()<10?"0"+e.getDate():e.getDate())+(e.getHours()<10?"0"+e.getHours():e.getHours())+(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+(e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds())}(),showapi_appid:"26916",showapi_sign:"72fa78be4c2045138d456456fb9a3a90"}}).then(function(t){e.news=t.data.showapi_res_body.showapi_res_body.list,e.isLoading=!1})}]),e.controller("societyCtrl",["$scope",function(e){e.title="社会"}]),e.controller("militaryCtrl",["$scope",function(e){e.title="军事"}]),e.controller("detailCtrl",["$scope","$http","$location","$state",function(e,t,r,a){e.id=a.params.id,t({url:"data/news2.json",method:"get",params:{id:a.id}}).then(function(t){e.newData=t.data.news_list[e.id]})}])}(),function(){var e=angular.module("directives",[]);e.directive("hfooter",function(){return{replace:!0,templateUrl:"directives/hfooter.html"}}),e.directive("hheader",function(){return{replace:!0,templateUrl:"directives/hheader.html"}}),e.directive("hswiper",function(){return{replace:!0,templateUrl:"directives/hswiper.html",link:function(e,t,r){new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0})}}}),e.directive("hlist",function(){return{replace:!0,templateUrl:"directives/hlist.html"}}),e.directive("hnews",function(){return{replace:!0,templateUrl:"directives/hnews.html"}}),e.directive("hloading",function(){return{replace:!0,templateUrl:"directives/hloading.html"}}),e.directive("hsearch",function(){return{replace:!0,templateUrl:"directives/hsearch.html"}})}(),function(){angular.module("routers",[]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("index",{url:"/index",templateUrl:"template/index.html",controller:"indexCtrl"}).state("index.recommend",{url:"/recommend",templateUrl:"template/recommend.html",controller:"recommendCtrl"}).state("index.entertain",{url:"/entertain",templateUrl:"template/same.html",controller:"entertainCtrl"}).state("index.society",{url:"/society",templateUrl:"template/same.html",controller:"societyCtrl"}).state("index.military",{url:"/military",templateUrl:"template/same.html",controller:"militaryCtrl"}).state("detail",{url:"/detail/:id",templateUrl:"template/detail.html",controller:"detailCtrl"}),t.when("","/index")}])}();
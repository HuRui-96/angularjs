var app=angular.module("hrapp",["ui.router","routers","directives","controllers","filter"]);!function(){var e=angular.module("controllers",[]);e.controller("indexCtrl",["$scope",function(e){e.item=0,e.itemOn=function(t){e.item=t}}]),e.controller("recommendCtrl",["$scope","$http","$timeout",function(e,t,n){e.title="推荐",e.page=0,e.news=[],e.tanc="opacity: 0; display: none;",e.count=0,e.pageStart=0,e.pageSize=4,e.loadMore=function(r,a){e.isLoading=!0,n(function(){t({url:"data/news2.json",method:"GET",params:{channel_id:6,page:e.page++}}).then(function(t){if(e.sum=t.data.news_list.length,e.pageStart>=e.sum)return console.log("没有更多数据了。"),e.tanc="opacity: 1; ",e.isLoading=!1,!1;e.sum-e.pageStart<e.pageSize&&(e.pageSize=e.sum-e.pageStart);for(var n=e.pageStart;n<e.pageStart+e.pageSize;n++)e.news=e.news.concat(t.data.news_list[n]);e.count+=1,e.pageStart=e.count*e.pageSize,e.isLoading=!1})},1500)},e.loadMore(e.pageStart,e.pageSize),e.hideTanC=function(){e.tanc="opacity: 0; display: none;"},e.isShowSearchBar=!1,e.showSearchBar=function(){e.isShowSearchBar=!0},e.searchName="",e.searchClear=function(){e.searchName="",e.isShowSearchBar=!1}}]),e.controller("entertainCtrl",["$scope","$http",function(e,t){e.title="新闻",e.isShowSearchBar=!1,e.showSearchBar=function(){e.isShowSearchBar=!0},e.searchName="",e.searchClear=function(){e.searchName="",e.isShowSearchBar=!1},e.isLoading=!0,t({url:"data/xinwen.json"}).then(function(t){e.news=t.data,e.isLoading=!1})}]),e.controller("music",["$scope","$http",function(e,t){e.title="热门音乐Top100",e.down="下载地址",e.listen="试听地址",e.topid=5,e.rows=15,e.page=1,e.isLoading=!0,t({url:"data/music.json"}).then(function(t){e.musiclist=t.data,e.pagecount=e.musiclist.length/e.rows,e.isLoading=!1}),e.pagination=function(t){e.page=t.target.innerHTML}}]),e.controller("meinvCtrl",["$scope","$http",function(e,t){e.title="美女",e.page=1,e.isLoading=!0,t({url:"data/meinv.json"}).then(function(t){console.log(t),e.list=t.data.showapi_res_body.newslist,e.isLoading=!1})}]),e.controller("shezCtrl",["$scope",function(e){e.title="设置"}]),e.controller("detailCtrl",["$scope","$http","$location","$state",function(e,t,n,r){e.id=r.params.id,t({url:"data/news2.json",method:"get",params:{id:r.id}}).then(function(t){e.newData=t.data.news_list[e.id]})}])}(),function(){var e=angular.module("directives",[]);e.directive("hfooter",function(){return{replace:!0,templateUrl:"directives/hfooter.html"}}),e.directive("hheader",function(){return{replace:!0,templateUrl:"directives/hheader.html"}}),e.directive("hswiper",function(){return{replace:!0,templateUrl:"directives/hswiper.html",link:function(e,t,n){new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0})}}}),e.directive("htanc",function(){return{replace:!0,templateUrl:"directives/hdialog.html"}}),e.directive("hlist",function(){return{replace:!0,templateUrl:"directives/hlist.html"}}),e.directive("hnews",function(){return{replace:!0,templateUrl:"directives/hnews.html"}}),e.directive("hloading",function(){return{replace:!0,templateUrl:"directives/hloading.html"}}),e.directive("hsearch",function(){return{replace:!0,templateUrl:"directives/hsearch.html"}})}(),function(){angular.module("filter",[]).filter("rang",function(){return function(e,t){e instanceof Array||(e=[]),("number"!=typeof t||parseInt(t)<1)&&(t=1);for(var n=0;n<t;n++)e.push(n);return e}})}(),function(){angular.module("routers",[]).config(["$stateProvider","$urlRouterProvider",function(e,t){e.state("index",{url:"/index",templateUrl:"template/index.html",controller:"indexCtrl"}).state("index.recommend",{url:"/recommend",templateUrl:"template/recommend.html",controller:"recommendCtrl"}).state("index.entertain",{url:"/entertain",templateUrl:"template/news.html",controller:"entertainCtrl"}).state("index.music",{url:"/music",templateUrl:"template/music.html",controller:"music"}).state("index.meinv",{url:"/meinv",templateUrl:"template/meinv.html",controller:"meinvCtrl"}).state("index.shez",{url:"/shez",templateUrl:"template/shez.html",controller:"shezCtrl"}).state("detail",{url:"/detail/:id",templateUrl:"template/detail.html",controller:"detailCtrl"}),t.when("/","/index/recommend")}])}(),angular.bootstrap(document,["hrapp"]);
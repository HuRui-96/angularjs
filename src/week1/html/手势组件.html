<!DOCTYPE html>
<html ng-app="hrapp">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />		
		<title>手势判断</title>
	</head>
	<body>
		<div ng-controller="controllerA">
			<p ng-touch>{{name}}</p>
			<p ng-touch>ngTouch</p>
		</div>
	</body>
	<script src="../js/angular.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		var app = angular.module("hrapp",[]);
			app.controller("controllerA",function($scope){
				$scope.name="pony";
			})
			app.directive("ngTouch",function(){
				return {
					link : function(scope,ele,attr){
						var xStart,xEnd,yStart,yEnd;
						ele.bind('touchstart',function(e){
							console.log(e);
							xStart = e.changedTouches[0].pageX;
							yStart = e.changedTouches[0].pageY;
						})
						ele.bind('touchend',function(e){
							xEnd = e.changedTouches[0].pageX;
							yEnd = e.changedTouches[0].pageY;
							if(Math.abs(xEnd-xStart) >= Math.abs(yEnd-yStart)){
								//x偏移的距离大于y轴偏移的距离
								//不是向左滑动就是像右滑动
								if(xEnd > xStart){
									console.log("right")
								} else {
									console.log("left")
								}
							} else {
								//不是上就是下
								if (yEnd > yStart){
									console.log("下滑")
								} else {
									console.log("上滑")
								}
							}
						})
					}
				}
			})
	</script>
</html>

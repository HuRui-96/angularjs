<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<script src="libs/jquery/dist/jquery.js"></script>
	<script src="libs/angular/angular.min.js"></script>
	<script src="max/postaj.js"></script>
	<style>
		i{font-size: 20px;}
		div.login{position: absolute;top: 0;left: 0;right: 0;bottom: 0;background-color: #f1f5f6;}
		div.login>div{border-radius: 10px;background-color: white;padding: 50px 30px;width: 400px;overflow: hidden;position: absolute;top: 40%;right: 100px;transform: translateY(-50%);}
		div.login>div>h3{margin: 0;color: #777;margin-bottom: 10px;}
		div.login>div>div{width: 100%;position: relative;top:0;left: 0;overflow: hidden;height: 42px;margin-top: 20px;}
		div.login>div>div>div,div.login>div>div>input{border: 1px solid greenyellow;float: left;line-height: 40px;}
		div.login>div>div>div:nth-child(2){width: 15%;text-align: center;background-color: white;}
		div.login>div>div>input{width: 84%;border: 1px solid greenyellow;padding: 0;}
		div.login>div>div>div:nth-child(1){display: none;padding: 0 10px;background-color: #ffe4e1;overflow: hidden;height: 40px;color: #cc3333;border: none;}
		div.words{position: absolute;right: 0;top: 1px;}
		div.login>div>div.inner{margin-top: 20px;}
		div.login>div>div.inner>input{font-size: 20px;height: 40px;width: 80%;margin-left: 10%;border: none;border-radius: 5px;}
	</style>
	<body>
		<div class="login" ng-app="logapp" ng-controller="logcon">
			<div>
				<h3>优来选后台登录</h3>
				<div class="account">
					<div class="words"></div>
					<div>帐号：</div>
					<input type="text" placeholder="帐号/手机号"/>
				</div>
				<div class="password">
					<div class="words"></div>
					<div>密码：</div>
					<input type="password" placeholder="密码"/>
				</div>
				<div class="inner">
					<input type="button" value="登录" ng-click="checkin()"/>
				</div>
			</div>
		</div>
	</body>
	<script>
		var logapp = angular.module("logapp",["commonApp"]);
		var logcon = logapp.controller("logcon",["$scope","$http",function($scope,$http){
			$scope.checkin = function(){
				
				if($(".account input").val().length==0){
					$(".account div.words").text("帐号不能为空");
					$(".account div.words").show();
					return false;
				}else if(!(/^1\d{10}$/.test($(".account input").val()))){
					$(".account div.words").text("帐号格式不正确");
					$(".account div.words").show();
					return false;
				}else{
					$(".account div.words").hide();
				}
				if($(".password input").val().length<8){
					$(".password div.words").text("密码长度不小于8位");
					$(".password div.words").show();
					return false;
				}else{
					$(".password div.words").hide();
				}
				$http.post("php/vipuser.php",{phone:$(".account input").val(),password:$(".password input").val()}).success(function(rep){
					alert(rep.message);
					if(rep.state){
						location.assign("vipuser1.html");
					}
				})
				
			}
		}])
		
	</script>
</html>

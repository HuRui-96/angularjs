<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<link rel="stylesheet" href="css/bootstrap.css" />

	<body>
		<div ng-controller="editCtrl">
			<input class="form-control" ng-model="country" placeholder="country" />
			<input  class="form-control" ng-model="name" placeholder="names" />
			<input  class="form-control" ng-model="address" placeholder="地址" />
			<button class="btn btn-default" ng-click="update()">更新新闻</button>
		</div>
	</body>
	<script src="js/angular.js"></script>
	<script>
		var app = angular.module("cmsApp", []);
		app.controller("editCtrl", function($scope, $http, $location, $window) {
			console.log($location.search());
			$http({
				url: "http://localhost:8888/editdetail",
				params: {
					id: $location.search().id
				}
			}).then(function(data) {
				console.log(data);
				$scope.country = data.data.newlists[0].country;
				$scope.name = data.data.newlists[0].name;
				$scope.address = data.data.newlists[0].url;
			})
			$scope.update = function() {
				$http({
					url: "http://localhost:8888/edit",
					params: {
						id: $location.search().id,
						country : $scope.country,
						name : $scope.name,
						address : $scope.address
					}
				}).then(function(data) {
					$window.location.href = "index.html"
				})
			}
		})
		angular.bootstrap(document, ["cmsApp"])
	</script>

</html>